description: >
  Lint your codebase with GitHub's Super-Linter.
# What will this job do?
# Descriptions should be short, simple, and clear.

docker:
  - image: 'github/super-linter:<<parameters.version>>'

parameters:
  version:
    type: string
    default: v3
    description: |
      Pick a specific github/super-linter tag:
      https://hub.docker.com/r/github/super-linter/tags
  dir:
    description: The directory to scan. By default the working directory will be used.
    type: string
    default: "$CIRCLE_WORKING_DIRECTORY"

environment:
  RUN_LOCAL: true
  DEFAULT_WORKSPACE: <<parameters.dir>>

steps:
  - checkout
  - run:
      name: GitHub Super-Linter
      command: |
        # Load Paths
        PATH="${PATH}:/node_modules/.bin:/var/cache/dotnet/tools:/usr/share/dotnet"
        # Run Linter
        bash /action/lib/linter.sh
